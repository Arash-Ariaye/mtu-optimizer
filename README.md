# ๐ ุงุณฺฉุฑูพุช ุจูููโุณุงุฒ MTU

ุงุณฺฉุฑูพุช ุจุฑุง **ูพุฏุง ฺฉุฑุฏู ุจูุชุฑู ููุฏุงุฑ MTU** (Maximum Transmission Unit) ุฏุฑ ุงูุชุฑูุณ ุดุจฺฉู.  
ุงู ุงุจุฒุงุฑ **ุจูโุทูุฑ ุฎูุฏฺฉุงุฑ** ููุฏุงุฑูุง ูุฎุชูู MTU ุฑุง ุชุณุช ฺฉุฑุฏู ู **ุจูููโุชุฑู ููุฏุงุฑ** ุฑุง ุจุฑุง **ฺฉูุชุฑู ูพูฺฏุ ฺฉูุชุฑู ุฌุชุฑ ู ุจุฏูู ุงุฒ ุฏุณุช ุฑูุชู ูพฺฉุชโูุง** ุชูุธู ูโฺฉูุฏ.

---

## โจ ูฺฺฏโูุง
โ **ูพุฏุง ฺฉุฑุฏู ุจูููโุชุฑู MTU** ุจุฑุง ฺฉุงูุด ูพูฺฏ ู ุงูุฒุงุด ูพุงุฏุงุฑ ุดุจฺฉู  
โ **ุชุณุช ุณุฑุน ู ููุงุฒ** ุจุฑุง ฺฉุงูุด ุฒูุงู ุงุฌุฑุง ุชุณุชโูุง  
โ **ุชูุธู ุฎูุฏฺฉุงุฑ ููุฏุงุฑ MTU** ุฑู ุงูุชุฑูุณ ุดุจฺฉู  
โ **ูุงุจูุช ุงุฌุฑุง ุฎูุฏฺฉุงุฑ ุงุฒ ุทุฑู `crontab`**  
โ **ุฐุฎุฑู ุชูุงู ูุชุงุฌ ุชุณุช ุฏุฑ ูุงู `mtu_test_results.txt`**  

---

## ๐ ูพุดโูุงุฒูุง
- ุณุณุชูโุนุงูู **Ubuntu** ุง **Debian**
- **ุฏุณุชุฑุณ ุจู ุงูุชุฑูุช** ุจุฑุง ุชุณุช ูพูฺฏ
- **ุฏุณุชุฑุณ root (ุงุฌุฑุง ุจุง `sudo`)**
- ูุตุจ ุจูุฏู ุงุจุฒุงุฑูุง `ping` ู `ip` (ุจูโุตูุฑุช ูพุดโูุฑุถ ุฏุฑ ุงฺฉุซุฑ ุชูุฒุนโูุง ูุฌูุฏ ุฏุงุฑูุฏ)

---

## โ๏ธ ุชูุธูุงุช ุงููู
ูุจู ุงุฒ ุงุฌุฑุงุ ุฏุฑูู ุงุณฺฉุฑูพุช ูโุชูุงู ุงู ููุงุฏุฑ ุฑุง ุชุบุฑ ุจุฏู ุง ุงุฒ ูุชุบุฑูุง ูุญุท ุงุณุชูุงุฏู ฺฉู:

```bash
INTERFACE="eth0"   # ูุงู ุงูุชุฑูุณ ุดุจฺฉู
TARGET_IP="8.8.8.8" # ุขุฏุฑุณ IP ุจุฑุง ุชุณุช ูพูฺฏ
PING_COUNT=10       # ุชุนุฏุงุฏ ูพฺฉุชโูุง ุงุฑุณุงู ุฏุฑ ูุฑ ุชุณุช
```

---

## ๐ ุฑูุดโูุง ุฏุงูููุฏ ู ูุตุจ
### ฑ. ุฏุงูููุฏ ู ุงุฌุฑุง ูุณุชูู ุจุง `wget`
ุงฺฏุฑ `git` ุฑู ุณุฑูุฑุช ูุตุจ ูุณุชุ ูโุชูุงู ุงุณฺฉุฑูพุช ุฑุง ูุณุชููุงู ุฏุงูููุฏ ฺฉู:
```bash
wget https://raw.githubusercontent.com/Arash-Ariaye/mtu-optimizer/main/mtu_test.sh -O mtu_test.sh
chmod +x mtu_test.sh
sudo ./mtu_test.sh
```
### 2. ุงุฌุฑุง ูุณุชูู ุจุง ุชูุธูุงุช ุฏูุฎูุงู
ูโุชูุงู ูุชุบุฑูุง ูุญุท ุฑุง ูุณุชููุงู ุฏุฑ ุฎุท ูุฑูุงู ูุดุฎุต ฺฉู:
```bash
sudo bash -c 'INTERFACE="eth0" TARGET_IP="1.1.1.1" PING_COUNT=10 ./mtu_test.sh'
```

### 3. ฺฉููู ฺฉุฑุฏู ูุฎุฒู ุงุฒ GitHub
```bash
git clone https://github.com/Arash-Ariaye/mtu-optimizer.git
cd mtu-optimizer
chmod +x mtu_test.sh
sudo ./mtu_test.sh
```

---

## ๐ ููููู ุฎุฑูุฌ
```bash
๐ ุดุฑูุน ุชุณุช MTU ุจุฑุง IP 1.1.1.1 ุจุง ต ูพฺฉุช...
MTU 1475: ูุงูฺฏู ูพูฺฏ=25.123 msุ ุงุฒ ุฏุณุช ุฑูุชู ูพฺฉุชโูุง=0%ุ ุฌุชุฑ=1.234 ms
MTU 1474: ูุงูฺฏู ูพูฺฏ=24.987 msุ ุงุฒ ุฏุณุช ุฑูุชู ูพฺฉุชโูุง=0%ุ ุฌุชุฑ=0.987 ms
[...]

โ ุจูุชุฑู ููุฏุงุฑ MTU: 1474  
   ๐น ูุงูฺฏู ูพูฺฏ: 24.987 ููโุซุงูู  
   ๐น ุงุฒ ุฏุณุช ุฑูุชู ูพฺฉุชโูุง: 0%  
   ๐น ุฌุชุฑ: 0.987 ููโุซุงูู  

โ ุฏุฑ ุญุงู ุชูุธู ููุฏุงุฑ MTU 1474 ุฑู ุงูุชุฑูุณ `eth0`...  
โ **MTU ุฌุฏุฏ ุจุง ููููุช ุงุนูุงู ุดุฏ!**  
๐ ูุชุงุฌ ฺฉุงูู ุฏุฑ ูุงู `mtu_test_results.txt` ุฐุฎุฑู ุดุฏูุฏ.
```

---

## โณ ุงุฌุฑุง ุฎูุฏฺฉุงุฑ ุจุง Crontab (ูุฑ ต ุฏููู)
### ฑ. ุงูุชูุงู ุงุณฺฉุฑูพุช ุจู `/root`
```bash
sudo mv mtu_test.sh /root/mtu_test.sh
sudo chmod +x /root/mtu_test.sh
```

### ฒ. ุงูุฒูุฏู ุจู `crontab` ุจุง ุชูุธูุงุช ุฏูุฎูุงู
ุจุฑุง ุงุฌุฑุง ุฎูุฏฺฉุงุฑ ุจุง ูุชุบุฑูุง ูุญุท ูุดุฎุต (ูุซูุงู `TARGET_IP=1.1.1.1` ู `PING_COUNT=5`):
```bash
(crontab -l 2>/dev/null; echo "*/5 * * * * /bin/bash -c 'INTERFACE=\"eth0\" TARGET_IP=\"1.1.1.1\" PING_COUNT=5 /root/mtu_test.sh' >> /var/log/mtu_optimizer.log 2>&1") | crontab -
```

### ณ. ุจุฑุฑุณ ฺฉุฑููโุฌุงุจ
```bash
crontab -l
```
๐น ุจุงุฏ ุฎุท ุฒุฑ ุฑุง ุจุจู:
```
*/5 * * * * /bin/bash -c 'INTERFACE="eth0" TARGET_IP="1.1.1.1" PING_COUNT=5 /root/mtu_test.sh' >> /var/log/mtu_optimizer.log 2>&1
```

### ด. ูุดุงูุฏู ูุงฺฏโูุง
```bash
sudo cat /var/log/mtu_optimizer.log
```

---

## โณ ุชุบุฑ ุฒูุงูโุจูุฏ ุงุฌุฑุง ุฎูุฏฺฉุงุฑ
ูโุชูุงู ุงุฌุฑุง ุฎูุฏฺฉุงุฑ ุฑุง ุจู **ูุฑ ฑฐ ุฏููู** ุง **ูุฑ ุณุงุนุช** ุชุบุฑ ุจุฏู:

- **ูุฑ ฑฐ ุฏููู:**
```bash
(crontab -l 2>/dev/null; echo "*/10 * * * * /bin/bash -c 'INTERFACE=\"eth0\" TARGET_IP=\"1.1.1.1\" PING_COUNT=5 /root/mtu_test.sh' >> /var/log/mtu_optimizer.log 2>&1") | crontab -
```

- **ูุฑ ุณุงุนุช:**
```bash
(crontab -l 2>/dev/null; echo "0 * * * * /bin/bash -c 'INTERFACE=\"eth0\" TARGET_IP=\"1.1.1.1\" PING_COUNT=5 /root/mtu_test.sh' >> /var/log/mtu_optimizer.log 2>&1") | crontab -
```

### โ ุญุฐู ุงุฌุฑุง ุฎูุฏฺฉุงุฑ
```bash
crontab -e
```
๐น ุณูพุณ ุฎุท ูุฑุจูุท ุจู ุงุฌุฑุง ุงุณฺฉุฑูพุช ุฑุง ูพุงฺฉ ฺฉู.

---

## ๐ ูุงูโูุง ููุฌูุฏ ุฏุฑ ูพุฑูฺู
| ูุงู ูุงู | ุชูุถุญุงุช |
|----------|----------|
| `mtu_test.sh` | ุงุณฺฉุฑูพุช ุงุตู ุจุฑุง ุชุณุช ู ุชูุธู MTU |
| `mtu_test_results.txt` | ุฐุฎุฑู ูุชุงุฌ ุชุณุชโูุง ูุจู |

---

## ๐ง ุงุดฺฉุงูโุงุจ
๐น **ุฎุทุง "ุงูุชุฑูุณ ูุฌูุฏ ูุฏุงุฑุฏ"** โ ูุงู ุงูุชุฑูุณ ุฑุง ุฏุฑ ุงุณฺฉุฑูพุช ุง ูุชุบุฑ ูุญุท ฺฺฉ ฺฉู.  
๐น **ุชูุธู MTU ุงูุฌุงู ูุดุฏ** โ ูุทูุฆู ุดู ฺฉู ุงุณฺฉุฑูพุช ุฑุง ุจุง `sudo` ุงุฌุฑุง ูโฺฉู.  
๐น **ุฎุทุง ุฏุฑ ุชุณุช ูพูฺฏ** โ ุงูุชุฑูุช ู IP ููุฑุฏูุธุฑ ุจุฑุง ุชุณุช ุฑุง ุจุฑุฑุณ ฺฉู.  

๐ **ูุดุงูุฏู ูุชุงุฌ ุฐุฎุฑูโุดุฏู:**  
```bash
cat mtu_test_results.txt
```

---

## ๐ ูุฌูุฒ
ุงู ูพุฑูฺู ุชุญุช **MIT License** ููุชุดุฑ ุดุฏู ุงุณุช. ุฌุฒุฆุงุช ุจุดุชุฑ ุฏุฑ ูุงู `LICENSE`.

---

### ุชูุถุญุงุช ุชุบุฑุงุช ุงุนูุงูโุดุฏู:
1. **ุงุถุงูู ุดุฏู ุฑูุด ุงุฌุฑุง ูุณุชูู ุจุง ูุชุบุฑูุง ูุญุท**: ุฏุณุชูุฑ `sudo bash -c 'INTERFACE="eth0" TARGET_IP="1.1.1.1" PING_COUNT=5 ./mtu_test.sh'` ุจู ุจุฎุด **ุฑูุดโูุง ุฏุงูููุฏ ู ูุตุจ** ุงุถุงูู ุดุฏ.
2. **ุจูโุฑูุฒุฑุณุงู ฺฉุฑููโุฌุงุจ**: ูุซุงู ฺฉุฑููโุฌุงุจ ุจุง ูุชุบุฑูุง ูุญุท (`INTERFACE="eth0" TARGET_IP="1.1.1.1" PING_COUNT=5`) ุฌุงฺฏุฒู ูุซุงู ูุจู ุดุฏ ุชุง ุชูุธูุงุช ุฏูุฎูุงู ุจูโุตูุฑุช ูุงุถุญ ููุงุด ุฏุงุฏู ุดูุฏ.
3. **ููููู ุฎุฑูุฌ ุจูโุฑูุฒ ุดุฏ**: ุจุฑุง ููุงููฺฏ ุจุง ุชุบุฑุงุชุ `TARGET_IP` ุจู `1.1.1.1` ู `PING_COUNT` ุจู `5` ุชุบุฑ ฺฉุฑุฏ.
4. **ุญูุธ ุณุงุฎุชุงุฑ ูุจู**: ุณุงุฑ ุจุฎุดโูุง ูุงููุฏ ูพุดโูุงุฒูุงุ ูฺฺฏโูุง ู ุงุดฺฉุงูโุงุจ ุจุฏูู ุชุบุฑ ุจุงู ูุงูุฏูุฏ ุชุง ุชูุถุญุงุช ุฌุงูุน ู ฺฉุงูู ุจูุงููุฏ.

ุงู ูุณุฎู ุฌุฏุฏ ุฑุง ูโุชูุงูุฏ ุฏุฑ ูุฎุฒู GitHub ุฎูุฏ ุฌุงฺฏุฒู ฺฉูุฏ. ุงฺฏุฑ ูุงุฒ ุจู ุชุบุฑุงุช ุฏฺฏุฑ ุฏุงุฑุฏุ ุงุทูุงุน ุฏูุฏ!
